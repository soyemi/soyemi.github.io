<!DOCTYPE html>
<html lang=en>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="&amp;#x6700;&amp;#x8FD1;&amp;#x5728;&amp;#x770B;&amp;#x79FB;&amp;#x52A8;GPU&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x5BF9;TiledBased GPU&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x7591;&amp;#x60D1;&amp;#xFF0C;&amp;#x7279;&amp;#x522B;&amp;#x662F;&amp;#x5E38;&amp;#x8BF4">
<meta name="keywords" content="PowerVR,GPU,Architecture,Optimization">
<meta property="og:type" content="article">
<meta property="og:title" content="PowerVR GPU架构与优化建议">
<meta property="og:url" content="http://yemi.me/2018/09/17/powervr-architecture-overview/index.html">
<meta property="og:site_name" content="Yemi&#39;s Blog">
<meta property="og:description" content="&amp;#x6700;&amp;#x8FD1;&amp;#x5728;&amp;#x770B;&amp;#x79FB;&amp;#x52A8;GPU&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x5BF9;TiledBased GPU&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x7591;&amp;#x60D1;&amp;#xFF0C;&amp;#x7279;&amp;#x522B;&amp;#x662F;&amp;#x5E38;&amp;#x8BF4">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yemi.me/images/pvr/a1811ea4.png">
<meta property="og:image" content="http://yemi.me/images/pvr/781b2ded.png">
<meta property="og:image" content="http://yemi.me/images/pvr/2c5b488b.png">
<meta property="og:image" content="http://yemi.me/images/pvr/69ec7ef0.png">
<meta property="og:updated_time" content="2018-09-16T16:42:48.968Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PowerVR GPU架构与优化建议">
<meta name="twitter:description" content="&amp;#x6700;&amp;#x8FD1;&amp;#x5728;&amp;#x770B;&amp;#x79FB;&amp;#x52A8;GPU&amp;#x4F18;&amp;#x5316;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x5BF9;TiledBased GPU&amp;#x6709;&amp;#x4E00;&amp;#x4E9B;&amp;#x7591;&amp;#x60D1;&amp;#xFF0C;&amp;#x7279;&amp;#x522B;&amp;#x662F;&amp;#x5E38;&amp;#x8BF4">
<meta name="twitter:image" content="http://yemi.me/images/pvr/a1811ea4.png">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.png">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
          
        
    
    <!-- title -->
    <title>PowerVR GPU架构与优化建议</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="https://artworks.yemi.me/">Artworks</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/09/27/method-chaining-with-derivation/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/09/13/js-two-way-binding/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yemi.me/2018/09/17/powervr-architecture-overview/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&text=PowerVR GPU架构与优化建议"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&is_video=false&description=PowerVR GPU架构与优化建议"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=PowerVR GPU架构与优化建议&body=Check out this article: http://yemi.me/2018/09/17/powervr-architecture-overview/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&name=PowerVR GPU架构与优化建议&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#主流图形架构"><span class="toc-number">1.</span> <span class="toc-text">主流图形架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#imr"><span class="toc-number">1.1.</span> <span class="toc-text">IMR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tbr"><span class="toc-number">1.2.</span> <span class="toc-text">TBR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tbdr"><span class="toc-number">1.3.</span> <span class="toc-text">TBDR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于powervr-架构"><span class="toc-number">2.</span> <span class="toc-text">关于PowerVR 架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#verte-processing-tiler"><span class="toc-number">2.1.</span> <span class="toc-text">Verte Processing (Tiler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#per-tile-rasterization-render"><span class="toc-number">2.2.</span> <span class="toc-text">Per-Tile Rasterization (Render)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#powervr-shader-engine"><span class="toc-number">2.3.</span> <span class="toc-text">PowerVR Shader Engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hsr-efficiency"><span class="toc-number">2.4.</span> <span class="toc-text">HSR Efficiency</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#性能优化建议"><span class="toc-number">3.</span> <span class="toc-text">性能优化建议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对drawcall进行排序"><span class="toc-number">3.1.</span> <span class="toc-text">对drawcall进行排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#始终进行clear操作"><span class="toc-number">3.2.</span> <span class="toc-text">始终进行Clear操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不要在每一帧开始绘制之后更新buffer"><span class="toc-number">3.3.</span> <span class="toc-text">不要在每一帧开始绘制之后更新Buffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用压缩贴图和mipmapping"><span class="toc-number">3.4.</span> <span class="toc-text">使用压缩贴图和Mipmapping</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        PowerVR GPU架构与优化建议
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="name">Yemi's Blog</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-09-16T16:05:10.000Z" itemprop="datePublished">2018-09-17</time>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/Architecture/">Architecture</a>, <a class="tag-link" href="/tags/GPU/">GPU</a>, <a class="tag-link" href="/tags/Optimization/">Optimization</a>, <a class="tag-link" href="/tags/PowerVR/">PowerVR</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>&#x6700;&#x8FD1;&#x5728;&#x770B;&#x79FB;&#x52A8;GPU&#x4F18;&#x5316;&#x7684;&#x65F6;&#x5019;&#x5BF9;TiledBased GPU&#x6709;&#x4E00;&#x4E9B;&#x7591;&#x60D1;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x5E38;&#x8BF4;&#x7684;Alpha-Blend&#x6BD4;Alpha-Test&#x5728;&#x79FB;&#x52A8;GPU&#x4E0A;&#x5FEB;&#x7684;&#x5947;&#x7279;&#x6027;&#x8D28;&#xFF0C;&#x4E8E;&#x662F;&#x627E;&#x4E86;powerVR&#x76F8;&#x5173;&#x7684;&#x6587;&#x6863;&#x6765;&#x9605;&#x8BFB;&#xFF0C;&#x4E5F;&#x505A;&#x4E2A;&#x8BB0;&#x5F55;&#x3002;</p>
<p>Imagination&#x7684;powerVR&#x67B6;&#x6784;&#x7684;GPU&#x4E4B;&#x524D;&#x4E3B;&#x8981;&#x662F;iOS&#x624B;&#x673A;&#x7CFB;&#x5217;&#x7684;GPU&#x4F9B;&#x5E94;&#x5546;&#xFF0C;&#x800C;&#x82F9;&#x679C;&#x81EA;&#x4ECE;17&#x5E74;&#x5BA3;&#x5E03;&#x8981;&#x9010;&#x6B65;&#x653E;&#x5F03;&#x4F7F;&#x7528;imagination&#x7684;GPU&#x6280;&#x672F;&#x8F6C;&#x800C;&#x81EA;&#x4E3B;&#x7814;&#x53D1;GPU&#x5F00;&#x59CB;&#xFF0C;powerVR&#x67B6;&#x6784;&#x5C31;&#x4F3C;&#x4E4E;&#x524D;&#x9014;&#x672A;&#x535C;&#x3002;Apple A11&#x5904;&#x7406;&#x5668;&#x5F00;&#x59CB;&#x5230;&#x6700;&#x65B0;&#x7684;iphone XS &#x4F7F;&#x7528;&#x7684;A12&#x5904;&#x7406;&#x5668;&#xFF0C;&#x90FD;&#x662F;&#x82F9;&#x679C;&#x81EA;&#x7814;&#x7684;GPU&#xFF0C;&#x76F8;&#x6BD4;&#x8D77;&#x4E4B;&#x524D;&#x7684;powerVR&#x7684;GPU&#x6709;&#x5DE8;&#x5927;&#x7684;&#x6027;&#x80FD;&#x63D0;&#x5347;&#x3002;&#x867D;&#x7136;&#x82F9;&#x679C;&#x8F6C;&#x5411;&#x4E86;&#x81EA;&#x7814;GPU&#xFF0C;&#x4F46;&#x4F3C;&#x4E4E;&#x5176;&#x67B6;&#x6784;&#x8FD8;&#x662F;&#x7EE7;&#x627F;&#x4E8E;PVR&#xFF0C;&#x76F8;&#x5E94;&#x7684;TBDR&#x4E5F;&#x662F;&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x6240;&#x4EE5;powerVR&#x67B6;&#x6784;&#x76F8;&#x5173;&#x7684;&#x77E5;&#x8BC6;&#x5BF9;&#x4E8E;iOS&#x7684;GPU&#x5F00;&#x53D1;&#x4F9D;&#x65E7;&#x8FD8;&#x662F;&#x6709;&#x7528;&#x7684;&#x3002;&#x540C;&#x65F6;Metal2&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x65B0;&#x7684;feature&#x5982;<code>Imageblocks</code>,<code>Raster Order Groups</code>&#x7B49;&#x65B0;feature&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x662F;Apple&#x5BF9;TBDR&#x67B6;&#x6784;&#x7684;&#x52A0;&#x5F3A;&#x4E0E;&#x4F18;&#x5316;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x770B;<a href="https://developer.apple.com/documentation/metal/mtldevice/ios_and_tvos_devices/about_gpu_family_4" target="_blank" rel="noopener">&#x8FD9;&#x91CC;</a>&#x3002;</p>
<h2 id="&#x4E3B;&#x6D41;&#x56FE;&#x5F62;&#x67B6;&#x6784;">&#x4E3B;&#x6D41;&#x56FE;&#x5F62;&#x67B6;&#x6784;</h2>
<ul>
<li>Immediate Mode Renderer(IMR)</li>
<li>Tile Based Renderer(TBR)</li>
<li>Tile Based Deferred Renderer(TBDR)</li>
</ul>
<p><strong>Unified and Non-unified shader architecture</strong></p>
<figure>
<img src="/images/pvr/a1811ea4.png" alt="shader architecture"><figcaption>shader architecture</figcaption>
</figure>
<p>&#x975E;&#x7EDF;&#x4E00;&#x7684;&#x7740;&#x8272;&#x5668;&#x67B6;&#x6784;&#x4E0A;Vertex Shader&#x8981;&#x7B49;&#x5F85;Fragment Shader&#x6267;&#x884C;&#x5B8C;&#x540E;&#x624D;&#x80FD;push&#x5904;&#x7406;&#x5B8C;&#x7684;&#x9876;&#x70B9;&#x6570;&#x636E;&#x4E22;&#x7ED9;FS&#x5355;&#x5143;&#x3002; &#x800C;&#x7EDF;&#x4E00;&#x7684;&#x7740;&#x8272;&#x5668;&#x67B6;&#x6784;&#xFF0C;&#x5904;&#x7406;&#x4F1A;&#x51CF;&#x5C11;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;PowerVR&#x5168;&#x90E8;&#x91C7;&#x7528;&#x7684;&#x90FD;&#x662F;Unified Shader Architecture.</p>
<p><strong>Overdraw</strong></p>
<p>&#x7531;&#x4E8E;geometry&#x63D0;&#x4EA4;&#x987A;&#x5E8F;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;fragment&#x4F1A;&#x88AB;&#x91CD;&#x590D;&#x7ED8;&#x5236;&#x3002; &#x4E3A;&#x4E86;&#x51CF;&#x5C11;overdraw&#x7684;&#x60C5;&#x5F62;&#xFF0C;&#x56FE;&#x5F62;&#x8BA1;&#x7B97;&#x6838;&#x5FC3;&#x4F1A;&#x8FDB;&#x884C;Early-Z testing&#x7684;&#x64CD;&#x4F5C;&#x4EE5;&#x51CF;&#x5C11;Overdraw&#x3002;</p>
<h3 id="imr">IMR</h3>
<figure>
<img src="/images/pvr/781b2ded.png" alt="IMR Pipeline"><figcaption>IMR Pipeline</figcaption>
</figure>
<p>&#x6BCF;&#x4E00;&#x4E2A;&#x6E32;&#x67D3;&#x5BF9;&#x8C61;/drawcall&#x5B8C;&#x6210;&#x4E86;&#x6574;&#x4E2A;&#x6E32;&#x67D3;&#x7BA1;&#x7EBF;&#x6D41;&#x7A0B;&#x5199;&#x5165;frameBuffer&#x624D;&#x4F1A;&#x5F00;&#x59CB;&#x6E32;&#x67D3;&#x4E0B;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;/drawcall&#x3002;&#x5728;IMR&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;Early-Z test&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x6DF1;&#x5EA6;&#x6D4B;&#x8BD5;&#x7684;&#x51E0;&#x4F55;&#x56FE;&#x5143;&#x8DF3;&#x8FC7;&#x4EE5;&#x63D0;&#x5347;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x662F;Early-Z test&#x4F9D;&#x8D56;&#x6E32;&#x67D3;&#x7ED8;&#x5236;&#x5BF9;&#x8C61;&#x7684;&#x63D0;&#x4EA4;&#x987A;&#x5E8F;&#x662F;&#x4ECE;&#x524D;&#x5F80;&#x540E;&#x7684;&#x3002;</p>
<p>&#x540C;&#x65F6;&#x6BCF;&#x4E00;&#x6B21;&#x6E32;&#x67D3;&#x5B8C;&#x7684;color&#x4E0E;depth&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x5199;&#x56DE;&#x5230;colorbuffer&#x4E0E;depth/stencil buffer&#x662F;&#x90FD;&#x4F1A;&#x4EA7;&#x751F;&#x5F88;&#x5927;&#x7684;&#x5E26;&#x5BBD;&#x6D88;&#x8017;&#x3002;&#x666E;&#x901A;&#x7684;Read-Modify-Write&#x90FD;&#x662F;&#x5728;system memory&#x4E0E;GPU&#x4E4B;&#x95F4;&#x4F20;&#x8F93;&#x6570;&#x636E;&#xFF0C;&#x5982;ZWrite/Write,Blend&#x8FD9;&#x4E9B;&#x3002;&#x6240;&#x4EE5;IMR&#x7684;&#x67B6;&#x6784;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x5F88;&#x5927;&#x663E;&#x5B58;cache&#x6765;&#x4F18;&#x5316;&#x8FD9;&#x90E8;&#x5206;&#x5927;&#x91CF;&#x7684;&#x5185;&#x5B58;&#x5E26;&#x5BBD;&#x6D88;&#x8017;&#x3002;</p>
<h3 id="tbr">TBR</h3>
<figure>
<img src="/images/pvr/2c5b488b.png" alt="TBR Pipeline"><figcaption>TBR Pipeline</figcaption>
</figure>
<p>&#x6574;&#x4E2A;&#x5149;&#x6805;&#x5316;&#x548C;fragment&#x5904;&#x7406;&#x4F1A;&#x88AB;&#x5206;&#x4E3A;&#x4E00;&#x4E2A;&#x4E2A;Tile&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x901A;&#x5E38;&#x4E3A;16&#xD7;16&#x5927;&#x5C0F;&#x7684;Tile&#x3002;</p>
<p>TBR&#x7684;&#x7ED3;&#x6784;&#x6DFB;&#x52A0;&#x4E86;on-chip buffers&#x7528;&#x6765;&#x50A8;&#x5B58;tiling&#x540E;&#x7684;Depth Buffer&#x548C;Color buffer&#x3002;&#x539F;&#x5148;IMR&#x67B6;&#x6784;&#x4E2D;&#x5BF9;&#x4E3B;&#x5B58;&#x4E2D;color/depth buffer&#x8FDB;&#x884C;Read-Modify-Write&#x7684;&#x64CD;&#x4F5C;&#x53D8;&#x6210;&#x76F4;&#x63A5;&#x5728;GPU&#x4E2D;&#x7684;&#x9AD8;&#x901F;&#x5185;&#x5B58;&#x64CD;&#x4F5C;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x6700;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#x7684;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4F20;&#x8F93;&#x7684;&#x5F00;&#x9500;&#x3002;</p>
<p>&#x867D;&#x7136;TBR&#x51CF;&#x5C11;&#x4E86;IMR&#x7684;&#x5E26;&#x5BBD;&#x5F00;&#x9500;&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x6CA1;&#x6709;&#x89E3;&#x51B3;overdraw&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="tbdr">TBDR</h3>
<p>PowerVR&#x7684;&#x6E32;&#x67D3;&#x67B6;&#x6784; Tile Based Deferred Rendering(TBDR)</p>
<p>&#x6570;&#x636E;&#x4ECE;&#x5185;&#x5B58;&#x5230;GPU&#x4E4B;&#x95F4;&#x7684;&#x4F20;&#x8F93;&#x662F;&#x6700;&#x5927;&#x7684;&#x6027;&#x80FD;&#x6D88;&#x8017;&#xFF0C;powerVR&#x67B6;&#x6784;&#x7684;TBDR&#xFF0C;on-chip buffer&#x90FD;&#x4E3A;&#x4E86;&#x8BE5;&#x76EE;&#x6807;&#x800C;&#x4F18;&#x5316;&#x3002;</p>
<p>TBDR &#x67B6;&#x6784;&#x5173;&#x6CE8;&#x4E8E;&#x5728;&#x6E32;&#x67D3;&#x7BA1;&#x7EBF;&#x4E2D;&#x5C3D;&#x53EF;&#x80FD;&#x79FB;&#x9664;&#x5197;&#x4F59;&#x7684;&#x64CD;&#x4F5C;&#x4E0E;&#x8BA1;&#x7B97;&#xFF0C;&#x6700;&#x5C0F;&#x5316;&#x5185;&#x5B58;&#x5E26;&#x5BBD;&#x548C;&#x80FD;&#x8017;&#x540C;&#x65F6;&#x63D0;&#x5347;&#x7BA1;&#x7EBF;&#x5904;&#x7406;&#x7684;&#x541E;&#x5410;&#x91CF;&#x3002;</p>
<figure>
<img src="/images/pvr/69ec7ef0.png" alt="TBDR Pipeline"><figcaption>TBDR Pipeline</figcaption>
</figure>
<p>TBDR&#x5C06;&#x6BCF;&#x4E2A;Tiler&#x7684;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x62C6;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;Hidden Surface Removal(HSR)&#x548C; deferred pixel shading&#x3002;</p>
<p>TBDR&#x4F1A;&#x5C3D;&#x53EF;&#x80FD;&#x5730;&#x5EF6;&#x8FDF;pixel shading&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x76F4;&#x5230;&#x6240;&#x6709;&#x5149;&#x6805;&#x5316;&#x540E;&#x7684;fragment&#x5B8C;&#x6210;&#x4E86;DepthTest&#x548C;HSR&#x3002;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#x4E2D;&#x5168;&#x662F;&#x4E0D;&#x900F;&#x660E;&#x51E0;&#x4F55;&#x56FE;&#x5143;&#x7684;&#x6E32;&#x67D3;&#x753B;&#x9762;&#x6765;&#x8BF4;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x5149;&#x6805;&#x5316;&#x5B8C;&#x7684;fragment patch&#x4F1A;&#x7ECF;&#x8FC7;HSR&#x548C;Depth test&#xFF0C;&#x5728;&#x6240;&#x6709;triangle&#x5B8C;&#x6210;&#x4E86;raster&#x4E4B;&#x540E;&#xFF0C;&#x6700;&#x540E;&#x7559;&#x4E0B;&#x6765;&#x7684;fragment&#x4F1A;&#x7559;&#x4E0B;&#x6765;&#x6267;&#x884C;pixel shading&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;tile&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x50CF;&#x7D20;&#x53EA;&#x6267;&#x884C;&#x4E00;&#x6B21;pixel shader&#x3002;</p>
<p>&#x5982;&#x679C;&#x6E32;&#x67D3;&#x6D41;&#x7A0B;&#x4E2D;&#x6709;alpha test/blend/pixel depth write&#xFF0C;&#x5C31;&#x4F1A;&#x963B;&#x65AD;deferred shading&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6267;&#x884C;shading&#xFF0C;&#x624D;&#x80FD;&#x6B63;&#x786E;&#x8FDB;&#x884C;&#x540E;&#x7EED;fragment&#x7684;&#x8BA1;&#x7B97;&#x3002;</p>
<ul>
<li>Alpha Test&#x9700;&#x8981;&#x6267;&#x884C;shading &#x7B97;&#x51FA;&#x5F53;&#x524D;fragment&#x7684;alpha&#xFF0C;&#x5224;&#x65AD;&#x8BE5;fragment&#x662F;&#x5426;&#x88AB;&#x4E22;&#x5F03;&#x3002;</li>
<li>Alpha Blend &#x9700;&#x8981;&#x8BFB;&#x53D6;framebuffer&#x4E2D;&#x5F53;&#x524D;&#x50CF;&#x7D20;&#x4E4B;&#x524D;&#x7684;&#x989C;&#x8272;&#x3002;</li>
<li>Pixel Depth write&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x540E;&#x7EED;fragment&#x7684;HSR&#x4E0E;Depth test&#x3002;</li>
</ul>
<p>&#x8FD9;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;Pixel Depth Write&#xFF0C;&#x56E0;&#x4E3A;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x540E;&#x7EED;fragment HSR/Depth&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x6267;&#x884C;&#x8BE5;&#x50CF;&#x7D20;&#x7684;shading&#xFF0C;&#x6253;&#x4E71;&#x4E86;&#x539F;&#x5148;deferred&#x7684;&#x6D41;&#x7A0B;&#x3002;&#x5177;&#x4F53;&#x8981;&#x770B;GPU&#x5B9E;&#x73B0;&#x65F6;&#x65F6;&#x628A;&#x6574;&#x4E2A;HSR&#x6B65;&#x9AA4;&#x79EF;&#x7D2F;&#x7684;fragment&#x90FD;shading&#x6389;&#x8FD8;&#x662F;&#x53EA;&#x628A;&#x5F53;&#x524D;fragment shading&#x6389;&#x3002;</p>
<p>&#x800C;&#x5BF9;&#x4E8E;AlphaBlend&#x6765;&#x8BF4;&#xFF0C;&#x5B83;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x8981;&#x6253;&#x65AD;deferred shading&#x3002; &#x9047;&#x5230;blending&#x7684;fragment&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x8BE5;fragment&#x50CF;&#x7D20;&#x4F4D;&#x7F6E;&#x7684;&#x6240;&#x6709;fragment&#x6309;&#x987A;&#x5E8F;&#x4FDD;&#x7559;&#x5728;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x7B49;&#x5230;shading&#x65F6;&#x6309;&#x987A;&#x5E8F;&#x8BA1;&#x7B97;blend&#x3002; &#x4F46;&#x8FD9;&#x6837;&#x5C31;&#x4F1A;&#x589E;&#x52A0;pixel shading&#x7684;&#x6B21;&#x6570;&#x3002;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x8FD8;&#x662F;&#x8981;&#x53C2;&#x7167;GPU&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x7531;&#x4E8E;&#x4F7F;&#x7528;TBR&#xFF0C;Blend&#x7684;&#x5F00;&#x9500;&#x76F8;&#x5BF9;&#x6BD4;IMR&#x8FD8;&#x662F;&#x964D;&#x4F4E;&#x4E86;&#x5F88;&#x591A;&#x3002;</p>
<p>Alpha-Test&#x7684;&#x60C5;&#x51B5;&#x662F;&#x548C;Pixel Depth Write&#x7C7B;&#x4F3C;&#xFF0C;&#x7531;&#x4E8E;Alpha Test&#x5931;&#x8D25;fragment&#x4F1A;&#x88AB;&#x4E22;&#x5F03;&#xFF0C;&#x5982;&#x679C;&#x5176;&#x5F00;&#x542F;&#x4E86;DepthWrite&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E00;&#x5B9A;&#x8981;&#x6267;&#x884C;shading&#x3002;&#x56E0;&#x4E3A;alpha-test&#x4F1A;&#x5F71;&#x54CD;&#x540E;&#x7EED;fragment&#x7684;HSR/Z-Test&#x7684;&#x6D41;&#x7A0B;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5F00;&#x542F;depth Write&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x548C;Blend&#x4E00;&#x6837;&#x4FDD;&#x7559;&#x540E;&#x7EED;&#x6240;&#x6709;fragment&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5EF6;&#x8FDF;shading&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x540E;&#x7EED;&#x8BE5;&#x4F4D;&#x7F6E;&#x7684;fragment patch&#x90FD;&#x662F;&#x4E0D;&#x80FD;&#x88AB;&#x79FB;&#x51FA;shading&#x5217;&#x8868;&#x7684;&#xFF0C;&#x5EF6;&#x8FDF;shading&#x4E5F;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x4E86;&#x3002;</p>
<h2 id="&#x5173;&#x4E8E;powervr-&#x67B6;&#x6784;">&#x5173;&#x4E8E;PowerVR &#x67B6;&#x6784;</h2>
<p><strong>Vector&#x5904;&#x7406;&#x5355;&#x5143;</strong></p>
<p>&#x9AD8;&#x6548;&#x8BA1;&#x7B97;&#x5355;&#x5143;&#xFF0C;&#x540C;&#x65F6;&#x8BA1;&#x7B97;3&#x5230;4&#x4E2A;&#x5143;&#x7D20;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x7684;&#x503C;&#x5C0F;&#x4E8E;4&#x4E2A;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x7684;&#x8BA1;&#x7B97;&#x4F1A;&#x88AB;&#x6D6A;&#x8D39;&#x3002;&#x53EA;&#x5BF9;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#x65F6;&#xFF0C;&#x6548;&#x7387;&#x4F1A;&#x964D;&#x4F4E;&#x5230;25%&#xFF0C;&#x9020;&#x6210;&#x8BA1;&#x7B97;&#x548C;&#x7535;&#x80FD;&#x7684;&#x6D6A;&#x8D39;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5408;&#x5E76;vector&#x6765;&#x4F18;&#x5316;&#x3002;</p>
<p><strong>Scalar&#x5904;&#x7406;&#x5355;&#x5143;</strong></p>
<p>&#x6807;&#x91CF;&#x8BA1;&#x7B97;&#x5355;&#x5143;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x586B;&#x5145;&#x5176;&#x4ED6;&#x7684;&#x4F4D;&#x5BBD;&#x6570;&#x636E;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x786C;&#x4EF6;tick&#x6BD4;&#x8D77;&#x975E;&#x5411;&#x91CF;&#x5316;&#x4F18;&#x5316;&#x7684;&#x4EE3;&#x7801;&#x80FD;&#x5904;&#x7406;&#x66F4;&#x591A;&#x6709;&#x6548;&#x7684;&#x6570;&#x636E;&#x503C;&#x3002;</p>
<h3 id="verte-processing-tiler">Verte Processing (Tiler)</h3>
<p>Tile Accelerator(TA)&#x8BA1;&#x7B97;&#x6BCF;&#x4E2A;transform&#x540E;&#x7684;&#x56FE;&#x5143;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;tile&#x3002; &#x8BA1;&#x7B97;&#x5B8C;&#x540E;&#xFF0C;per-tile&#x961F;&#x5217;&#x4F1A;&#x66F4;&#x65B0;&#x3002;&#x53D8;&#x6362;&#x540E;&#x7684;&#x51E0;&#x4F55;&#x4F53;&#x548C;tile list&#x4F1A;&#x88AB;&#x50A8;&#x5B58;&#x5728;Parameter Buffer(PB)&#x4E2D;&#x3002;PB&#x88AB;&#x50A8;&#x5B58;&#x5728;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x4E2D;&#x3002;</p>
<h3 id="per-tile-rasterization-render">Per-Tile Rasterization (Render)</h3>
<p>Image Sythesis Processor(ISP)&#x83B7;&#x53D6;&#x5F53;&#x524D;tile&#x7684;primitive&#x6570;&#x636E;&#xFF0C;&#x8FDB;&#x884C;HSR&#xFF0C;&#x540C;&#x65F6;&#x8FDB;&#x884C;Z-Test&#x548C;Stencil Test&#x3002;ISP&#x53EA;&#x5904;&#x7406;ScreenSpace Position&#xFF0C;&#x548C;vertex data&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x662F;Texture and Shading Processor (TSP)&#xFF0C;&#x5904;&#x7406;fragment shaders&#x548C;visible pixels&#x3002;&#x5F53;Tile&#x7684;&#x6E32;&#x67D3;&#x7ED3;&#x675F;&#x4E4B;&#x540E;&#xFF0C;color data&#x4F1A;&#x88AB;&#x5199;&#x56DE;&#x5230;&#x4E3B;&#x5B58;&#x4E2D;&#x7684;framebuffer&#x4E2D;&#x3002;&#x76F4;&#x5230;&#x6240;&#x6709;&#x7684;tile&#x90FD;&#x5B8C;&#x6210;&#x6E32;&#x67D3;&#x540E;&#xFF0C;&#x6574;&#x4E2A;frameBuffer&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x3002;</p>
<h3 id="powervr-shader-engine">PowerVR Shader Engine</h3>
<p>massive multi-threaded and multi-tasking approah.</p>
<h3 id="hsr-efficiency">HSR Efficiency</h3>
<p>Early-Z testing &#x9700;&#x8981;&#x6309;&#x4ECE;&#x524D;&#x5F80;&#x540E;&#x987A;&#x5E8F;&#x63D0;&#x4EA4;opaque&#x5BF9;&#x8C61;&#x7684;draw call&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x4F1A;&#x6709;&#x989D;&#x5916;&#x7684;overhead&#x3002;&#x5F53;&#x7269;&#x4F53;&#x6709;intersection&#x65F6;&#xFF0C;Eearly-Z testing&#x5E76;&#x4E0D;&#x80FD;&#x79FB;&#x9664;&#x6240;&#x6709;&#x7684;overdraw&#xFF0C;&#x540C;&#x65F6;&#x5BF9;draw call&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;pipeline &#x72B6;&#x6001;&#x6539;&#x53D8;&#x4EA7;&#x751F;&#x7684;overhead&#x3002; PowerVR &#x7684;HSR&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;&#x4E86;fragment shading&#x7684;&#x6570;&#x91CF;&#x3002;</p>
<h2 id="&#x6027;&#x80FD;&#x4F18;&#x5316;&#x5EFA;&#x8BAE;">&#x6027;&#x80FD;&#x4F18;&#x5316;&#x5EFA;&#x8BAE;</h2>
<h3 id="&#x5BF9;drawcall&#x8FDB;&#x884C;&#x6392;&#x5E8F;">&#x5BF9;drawcall&#x8FDB;&#x884C;&#x6392;&#x5E8F;</h3>
<p>&#x5BF9;&#x4E8E;TBDR&#x67B6;&#x6784;&#x6765;&#x8BF4;&#xFF0C;&#x6240;&#x6709;&#x7684;drawcall &#x6309;&#x7167; opaque - alpha-tested - blended&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x4F1A;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x5229;&#x7528;HSR&#x51CF;&#x5C11;overdraw&#x3002;&#x5BF9;&#x4E8E;&#x6709;blend&#x7684;pixel&#x6765;&#x8BF4;&#xFF0C;&#x540E;&#x7EED;&#x6240;&#x6709;&#x76F8;&#x540C;&#x4F4D;&#x7F6E;&#x7684;pixel&#x90FD;&#x9700;&#x8981;&#x8FDB;&#x884C;pixel shading&#xFF0C;&#x800C;alpha-test&#x5728;&#x5B8C;&#x6210;&#x540E;&#x7684;&#x50CF;&#x7D20;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;HSR&#x7684;&#x4F18;&#x5316;&#x3002;&#x6240;&#x4EE5;&#x6BD4;&#x5148;blend&#x63D0;&#x4EA4;alpha-test&#x53EF;&#x4EE5;&#x5C3D;&#x53EF;&#x80FD;&#x51CF;&#x5C11;overdraw&#x3002;</p>
<h3 id="&#x59CB;&#x7EC8;&#x8FDB;&#x884C;clear&#x64CD;&#x4F5C;">&#x59CB;&#x7EC8;&#x8FDB;&#x884C;Clear&#x64CD;&#x4F5C;</h3>
<p>&#x5728;IMR&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x8FDB;&#x884C;Clear&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x5BF9;fragment buffer&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x8BBE;&#x7F6E;&#x4E00;&#x904D;&#x503C;&#x3002;&#x5982;&#x679C;&#x786E;&#x8BA4;&#x753B;&#x9762;&#x4F1A;&#x88AB;&#x5B8C;&#x5168;&#x91CD;&#x7ED8;&#x8986;&#x76D6;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;Clear&#x64CD;&#x4F5C;&#x4F1A;&#x6709;&#x51CF;&#x5C11;&#x8FD9;&#x90E8;&#x5206;&#x7684;&#x6027;&#x80FD;&#x5F00;&#x9500;&#x3002;&#x800C;&#x5728;&#x79FB;&#x52A8;&#x5E73;&#x53F0;&#x7684;GPU&#x4E0A;&#x5E76;&#x4E0D;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x7531;&#x4E8E;&#x79FB;&#x52A8;&#x5E73;&#x53F0;&#x4E3A;&#x4E86;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x4E0E;GPU&#x95F4;&#x7684;&#x5E26;&#x5BBD;&#x6D88;&#x8017;&#xFF0C;frameBuffer&#x662F;&#x5206;&#x5757;&#x5B58;&#x5728;on-chip memory&#x4E2D;&#x7684;&#x3002;&#x5728;&#x6574;&#x4E2A;&#x6E32;&#x67D3;&#x8FC7;&#x7A0B;&#x7ED3;&#x675F;&#x540E;&#x5C06;&#x6240;&#x6709;&#x7684;tiled framebuffer &#x62F7;&#x8D1D;&#x5230;&#x4E3B;&#x5B58;&#x4E2D;&#x7684;framebuffer&#x4E2D;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x8FDB;&#x884C;clear&#xFF0C;&#x800C;&#x5728;&#x4E0A;&#x4E00;&#x5E27;&#x7684;buffer&#x4E0A;&#x91CD;&#x65B0;&#x7ED8;&#x5236;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E2A;tiled frameBuffer&#x5F00;&#x59CB;&#x7ED8;&#x5236;&#x4E4B;&#x524D;&#x4ECE;&#x4E3B;&#x5B58;&#x518D;&#x540C;&#x6B65;&#x5230;on-chip&#x7684;&#x5185;&#x5B58;&#x4E2D;&#x3002;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#x4F1A;&#x6709;&#x5F88;&#x5927;&#x7684;overhead&#x3002;</p>
<h3 id="&#x4E0D;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x5E27;&#x5F00;&#x59CB;&#x7ED8;&#x5236;&#x4E4B;&#x540E;&#x66F4;&#x65B0;buffer">&#x4E0D;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x5E27;&#x5F00;&#x59CB;&#x7ED8;&#x5236;&#x4E4B;&#x540E;&#x66F4;&#x65B0;Buffer</h3>
<p>&#x7531;&#x4E8E;GPU&#x7ED8;&#x5236;&#x91C7;&#x7528;&#x7684;&#x662F;&#x53CC;&#x7F13;&#x51B2;&#x7ED8;&#x5236;&#xFF0C;&#x5F53;&#x524D;&#x5E27;&#x63D0;&#x4EA4;&#x7684;draw call&#x4F1A;&#x5728;&#x4E0B;&#x4E00;&#x5E27;&#x8FDB;&#x884C;&#x7ED8;&#x5236;&#xFF0C;&#x800C;&#x5F53;&#x524D;&#x5E27;&#x7ED8;&#x5236;&#x4E0A;&#x4E00;&#x5E27;&#x63D0;&#x4EA4;&#x7684;draw call&#x3002;&#x5982;&#x679C;&#x5728;&#x5E27;&#x4E2D;&#x95F4;&#x66F4;&#x65B0;buffer&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;buffer&#x5728;&#x4E0A;&#x4E00;&#x5E27;&#x63D0;&#x4EA4;&#x7684;drawcall&#x4E2D;&#x88AB;&#x4F7F;&#x7528;&#xFF0C;&#x6709;&#x53EF;&#x80FD;&#x5F53;&#x524D;&#x5E27;&#x66F4;&#x65B0;&#x7684;buffer&#x6B63;&#x5728;GPU&#x4E2D;&#x6E32;&#x67D3;&#xFF0C;&#x800C;&#x6B64;&#x65F6;&#x9A71;&#x52A8;&#x5C42;&#x5C06;&#x590D;&#x5236;&#x4E00;&#x4EFD;buffer&#x6765;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x66F4;&#x65B0;&#x6216;&#x8005;&#x7B49;&#x5F85;&#x5F53;&#x524D;&#x7ED8;&#x5236;&#x547D;&#x4EE4;&#x5B8C;&#x6210;&#x518D;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#x4E00;&#x79CD;&#x4F1A;&#x9020;&#x6210;&#x9A71;&#x52A8;&#x5C42;&#x7684;overhead&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x79CD;&#x4F1A;&#x9020;&#x6210;CPU&#x7684;&#x963B;&#x585E;&#x3002;</p>
<h3 id="&#x4F7F;&#x7528;&#x538B;&#x7F29;&#x8D34;&#x56FE;&#x548C;mipmapping">&#x4F7F;&#x7528;&#x538B;&#x7F29;&#x8D34;&#x56FE;&#x548C;Mipmapping</h3>
<p>&#x4F7F;&#x7528;&#x538B;&#x7F29;&#x7684;&#x8D34;&#x56FE;&#x683C;&#x5F0F;&#x4F1A;&#x51CF;&#x5C11;&#x4F20;&#x8F93;&#x7684;&#x5E26;&#x5BBD;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x5347;&#x6027;&#x80FD;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x5728;TileBased&#x67B6;&#x6784;&#x4E0B;&#xFF0C;&#x90E8;&#x5206;&#x6309;&#x5757;&#x538B;&#x7F29;&#x7684;&#x8D34;&#x56FE;&#x538B;&#x7F29;&#x683C;&#x5F0F;&#x53EF;&#x4EE5;&#x548C;FrameBuffer&#x7684;Tile&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x5176;&#x7ED3;&#x6784;&#x5BF9;&#x4E8E;&#x8D34;&#x56FE;&#x7F13;&#x5B58;&#x6765;&#x8BF4;&#x66F4;&#x52A0;&#x53CB;&#x597D;&#x3002;</p>
<p>&#x5C3D;&#x53EF;&#x80FD;&#x4F7F;&#x7528;Mipmapping&#xFF0C;&#x9996;&#x5148;&#x4F7F;&#x7528;mipmap&#xFF0C;&#x5BF9;&#x4E8E;&#x8F83;&#x8FDC;&#x4EE5;&#x53CA;&#x8F83;&#x5C0F;&#x7684;&#x8D34;&#x56FE;&#x7269;&#x4F53;&#x4F1A;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6297;&#x952F;&#x9F7F;&#x6548;&#x679C;&#xFF0C;&#x51CF;&#x5C11;&#x753B;&#x9762;&#x7684;&#x95EA;&#x70C1;&#x4EE5;&#x63D0;&#x5347;&#x753B;&#x9762;&#x6548;&#x679C;&#x3002;&#x5176;&#x6B21;&#x4F7F;&#x7528;&#x5728;&#x91C7;&#x6837;&#x8D34;&#x56FE;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;&#x7269;&#x4F53;&#x9009;&#x7528;&#x5176;&#x5927;&#x5C0F;&#x76F8;&#x5BF9;&#x5E94;&#x5C42;&#x7EA7;&#x7684;&#x8D34;&#x56FE;&#x5230;&#x5BF9;&#x5E94;&#x7684;TextureCache&#x80FD;&#x6709;&#x6548;&#x51CF;&#x5C11;&#x8D34;&#x56FE;&#x7F13;&#x5B58;missing&#x7684;&#x51E0;&#x7387;&#x4EE5;&#x63D0;&#x5347;&#x8D34;&#x56FE;&#x91C7;&#x6837;&#x7684;&#x6548;&#x7387;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x6709;&#x4E0D;&#x540C;&#x5C42;&#x7EA7;&#x7684;&#x8D34;&#x56FE;&#xFF0C;&#x4F1A;&#x5927;&#x91CF;&#x51CF;&#x5C11;&#x6BCF;&#x6B21;&#x5C06;&#x8D34;&#x56FE;&#x4ECE;&#x5185;&#x5B58;&#x590D;&#x5236;&#x5230;GPU&#x7684;&#x5E26;&#x5BBD;&#x6D88;&#x8017;&#xFF0C;&#x540C;&#x65F6;&#x4F7F;&#x7528;Mipmap&#x53EA;&#x4F1A;&#x589E;&#x52A0;33%&#x7684;&#x5185;&#x5B58;&#x6D88;&#x8017;&#x3002;</p>
<hr>
<p>Reference</p>
<p><a href="https://www.imgtec.com/developers/downloads/download-info/powervr-hardware-architecture-overview/" target="_blank" rel="noopener">powervr-hardware-architecture-overview</a></p>
<p><a href="https://www.imgtec.com/developers/downloads/download-info/powervr-performance-recommendations-the-golden-rules/" target="_blank" rel="noopener">powervr-performance-recommendations-the-golden-rules</a></p>
<p><a href="https://developer.apple.com/documentation/metal/mtldevice/ios_and_tvos_devices/about_gpu_family_4" target="_blank" rel="noopener">Apple Development Document-About GPU Family 4</a></p>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="https://artworks.yemi.me/">Artworks</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#主流图形架构"><span class="toc-number">1.</span> <span class="toc-text">主流图形架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#imr"><span class="toc-number">1.1.</span> <span class="toc-text">IMR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tbr"><span class="toc-number">1.2.</span> <span class="toc-text">TBR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tbdr"><span class="toc-number">1.3.</span> <span class="toc-text">TBDR</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于powervr-架构"><span class="toc-number">2.</span> <span class="toc-text">关于PowerVR 架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#verte-processing-tiler"><span class="toc-number">2.1.</span> <span class="toc-text">Verte Processing (Tiler)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#per-tile-rasterization-render"><span class="toc-number">2.2.</span> <span class="toc-text">Per-Tile Rasterization (Render)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#powervr-shader-engine"><span class="toc-number">2.3.</span> <span class="toc-text">PowerVR Shader Engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hsr-efficiency"><span class="toc-number">2.4.</span> <span class="toc-text">HSR Efficiency</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#性能优化建议"><span class="toc-number">3.</span> <span class="toc-text">性能优化建议</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对drawcall进行排序"><span class="toc-number">3.1.</span> <span class="toc-text">对drawcall进行排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#始终进行clear操作"><span class="toc-number">3.2.</span> <span class="toc-text">始终进行Clear操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#不要在每一帧开始绘制之后更新buffer"><span class="toc-number">3.3.</span> <span class="toc-text">不要在每一帧开始绘制之后更新Buffer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用压缩贴图和mipmapping"><span class="toc-number">3.4.</span> <span class="toc-text">使用压缩贴图和Mipmapping</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yemi.me/2018/09/17/powervr-architecture-overview/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&text=PowerVR GPU架构与优化建议"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&is_video=false&description=PowerVR GPU架构与优化建议"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=PowerVR GPU架构与优化建议&body=Check out this article: http://yemi.me/2018/09/17/powervr-architecture-overview/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&title=PowerVR GPU架构与优化建议"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yemi.me/2018/09/17/powervr-architecture-overview/&name=PowerVR GPU架构与优化建议&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 yemi
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="https://artworks.yemi.me/">Artworks</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/projects/">Projects</a></li>
         
          <li><a href="/Search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/fontawesome-all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-117987782-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'yemiblog';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


